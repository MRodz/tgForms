var tgForms;
tgForms=function(){function a(){}var e,n,u,v,q,w,p,g,x,t;v=/<span class="label">(.*)<\/span>/;n=N3.Parser();p=N3.Store();g={};x={"tgforms:button":'<div class="form-group tgforms:button {{ rdf:Property }}">\n <span class="label">{{ rdfs:label }}</span>\n <div>\n <span class="value">{{ tgforms:hasDefault }}</span>\n <button type="button" class="btn btn-default">Choose</button>\n </div>\n </div>',"tgforms:dropdown":'<div class="form-group tgforms:dropdown {{ rdf:Property }}">\n <span class="label">{{ rdfs:label }}</span>\n <div class="btn-group">\n <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">\n <span class="value">{{ tgforms:hasDefault }}</span><span class="caret"></span>\n </button>\n <ul class="dropdown-menu dropdown-menu-right" role="menu">\n {{#tgforms:hasOption}}\n <li><a href="#">{{.}}</a></li>\n {{/tgforms:hasOption}}\n </ul>\n </div>\n </div>',"tgforms:text":'<div class="form-group tgforms:text {{ rdf:Property }}">\n <label>\n <span class="label">{{ rdfs:label }}</span>\n <input type="text" class="form-control">\n </label>\n </div>'};
t=N3.Util;e=function(l,c){var b,d,a;b=c.closest("div.form-group").attr("class").replace(/.* /,"");a=l[b];d=c.val()?c.val():c.text();null!=a&&"object"===typeof a&&d?l[b].push(d):null!=a&&"string"===typeof a&&d?l[b]=[a,d]:d&&(l[b]=d);return l};u=function(a,c){p.addPrefix(a,c);return g[a]=c};q=function(a){var c,b;for(c in g)b=g[c],a=a.replace(b,c+":");return a};w=function(a,c){return a["tgforms:hasPriority"]>c["tgforms:hasPriority"]?-1:a["tgforms:hasPriority"]<c["tgforms:hasPriority"]?1:0};a.prototype.addTurtle=
function(a,c){return n.parse(a,function(a,d,l){return d?p.addTriple(d):c()},u)};a.prototype.getFormHTML=function(a,c){var b,d,e,g,h,k,f,r,m,s,n;e=[];g='<form role="form" class="tgForms">';k=p.find(null,"tgforms:belongsToForm",a);m=0;for(d=k.length;m<d;m++){h=k[m];b={};r=p.find(h.subject,null,null);b["rdf:Property"]=q(r[0].subject);b["tgforms:hasOption"]=[];s=0;for(n=r.length;s<n;s++)f=r[s],h=f.predicate,h=q(h),f=f.object,t.isLiteral(f)&&(f=t.getLiteralValue(f)),f=q(f),"tgforms:hasOption"===h?b["tgforms:hasOption"].push(f):
b[h]=f;b["tgforms:hasOption"]=b["tgforms:hasOption"].sort();b["tgforms:hasPriority"]=parseInt(b["tgforms:hasPriority"]);b["tgforms:isRepeatable"]="true"===b["tgforms:isRepeatable"];e.push(b)}e=e.sort(w);k=0;for(m=e.length;k<m;k++)b=e[k],d=x[b["tgforms:hasInput"]],d=Mustache.render(d,b),b["tgforms:isRepeatable"]&&(d=d.replace(v,'<span class="label">$1</span><span class="repeat">[Add One More]</span>')),g+=d;return c(g+"</form>")};a.prototype.getJSONLD=function(a,c){var b;b={"@context":g,"@id":a};$(c+
" input").each(function(){var a;a=$(this);return b=e(b,a)});$(c+" span.value").each(function(){var a;a=$(this);return b=e(b,a)});return b};return a}();$(document).on("click","span.repeat",function(){var a,e;a=$(this);e=a.closest("div.form-group").clone();a.closest("div.form-group").after(e);return setTimeout(function(){return a.closest("div.form-group").next().find("input").focus()},25)});$(document).on("click","ul.dropdown-menu li",function(a){a.preventDefault();a=$(this);return a.closest("div.form-group").find("span.value").text(a.text())});
